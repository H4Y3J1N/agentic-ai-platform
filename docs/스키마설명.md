â— ì´ì œ schema ëª¨ë“ˆì„ ìžì„¸ížˆ ì„¤ëª…í•´ë“œë¦´ê²Œìš”.

  ---
  Schema ëª¨ë“ˆ ì™„ì „ ê°€ì´ë“œ

  ì „ì²´ êµ¬ì¡°

  schema/
  â”œâ”€â”€ base.py          # ê³µí†µ ë² ì´ìŠ¤ í´ëž˜ìŠ¤ (ëª¨ë“  ìŠ¤í‚¤ë§ˆê°€ ìƒì†)
  â”œâ”€â”€ document.py      # ë¬¸ì„œ + ì²­í¬ ìŠ¤í‚¤ë§ˆ
  â”œâ”€â”€ entity.py        # ì§€ì‹ ê·¸ëž˜í”„ ë…¸ë“œ
  â”œâ”€â”€ relationship.py  # ì§€ì‹ ê·¸ëž˜í”„ ì—£ì§€
  â””â”€â”€ decision.py      # ì˜ì‚¬ê²°ì • ì˜í–¥ë„ ë§¤í•‘

  ---
  1. base.py - ëª¨ë“  ê²ƒì˜ ì‹œìž‘

  ëª¨ë“  ìŠ¤í‚¤ë§ˆê°€ ìƒì†í•˜ëŠ” ë¯¹ìŠ¤ì¸ í´ëž˜ìŠ¤ë“¤ì„ ì •ì˜í•©ë‹ˆë‹¤.

  # ìƒì† êµ¬ì¡°
  SchemaBase          # ìµœìƒìœ„ (Pydantic BaseModel ëž˜í•‘)
  â”œâ”€â”€ Identifiable    # + UUID id í•„ë“œ
  â”œâ”€â”€ Timestamped     # + created_at, updated_at
  â”œâ”€â”€ Scorable        # + score, confidence
  â””â”€â”€ Provenanced     # + source_ids (ì¶œì²˜ ì¶”ì )

  # ì¡°í•©
  IdentifiableTimestamped = Identifiable + Timestamped

  í•µì‹¬ í´ëž˜ìŠ¤
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚    í´ëž˜ìŠ¤    â”‚      ì—­í•        â”‚         ì¶”ê°€ë˜ëŠ” í•„ë“œ         â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ SchemaBase   â”‚ ì§ë ¬í™”/ì—­ì§ë ¬í™” â”‚ to_dict(), from_dict()        â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Identifiable â”‚ ê³ ìœ  ID         â”‚ id: str (UUID ìžë™ìƒì„±)       â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Timestamped  â”‚ ì‹œê°„ ì¶”ì        â”‚ created_at, updated_at        â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Scorable     â”‚ ì ìˆ˜/ì‹ ë¢°ë„     â”‚ score, confidence (0~1)       â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Provenanced  â”‚ ì¶œì²˜ ì¶”ì        â”‚ source_ids, extraction_method â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ì™œ ì´ë ‡ê²Œ ì„¤ê³„í–ˆë‚˜?

  # ë¬¸ì œ: ì—¬ëŸ¬ ìŠ¤í‚¤ë§ˆì—ì„œ ë°˜ë³µë˜ëŠ” íŒ¨í„´
  class Document:
      id: str
      created_at: datetime

  class Entity:
      id: str
      created_at: datetime  # ì¤‘ë³µ!

  # í•´ê²°: ë¯¹ìŠ¤ì¸ìœ¼ë¡œ ìž¬ì‚¬ìš©
  class Document(IdentifiableTimestamped):  # id + ì‹œê°„ ìžë™ í¬í•¨
      pass

  class Entity(IdentifiableTimestamped, Scorable):  # id + ì‹œê°„ + ì ìˆ˜
      pass

  ì‹¤ìŠµ

  from agentic_ai_core.schema.base import Identifiable, Timestamped

  class MyData(Identifiable, Timestamped):
      name: str

  data = MyData(name="í…ŒìŠ¤íŠ¸")
  print(data.id)          # UUID ìžë™ ìƒì„±
  print(data.created_at)  # í˜„ìž¬ ì‹œê°„
  print(data.to_dict())   # ë”•ì…”ë„ˆë¦¬ ì§ë ¬í™”

  ---
  2. document.py - ë¬¸ì„œì™€ ì²­í¬

  RAG ì‹œìŠ¤í…œì˜ í•µì‹¬ ë°ì´í„° êµ¬ì¡°ìž…ë‹ˆë‹¤.

  í•µì‹¬ ê°œë… íë¦„

  [ì›ë³¸ ë¬¸ì„œ]
      â”‚
      â–¼
  Document (ì „ì²´ ë©”íƒ€ë°ì´í„°)
      â”‚
      â”œâ”€ ParsedContent (êµ¬ì¡°í™”ëœ ë‚´ìš©)
      â”‚      â””â”€ ParsedSection (ì„¹ì…˜ë³„)
      â”‚
      â””â”€ Chunk[] (ë²¡í„°í™” ë‹¨ìœ„)
             â””â”€ embedding (ë²¡í„°)

  Enum íƒ€ìž…ë“¤

  class SourceType(str, Enum):
      """ì–´ë””ì„œ ì™”ë‚˜?"""
      NOTION = "notion"
      SLACK = "slack"
      CONFLUENCE = "confluence"
      # ...

  class DocumentType(str, Enum):
      """ë¬´ìŠ¨ ì¢…ë¥˜ì¸ê°€?"""
      POLICY = "policy"           # ì •ì±… ë¬¸ì„œ
      MEETING_NOTE = "meeting_note"  # íšŒì˜ë¡
      FAQ = "faq"                 # FAQ
      TECHNICAL_DOC = "technical_doc"  # ê¸°ìˆ  ë¬¸ì„œ
      # ...

  class ResolutionLevel(str, Enum):
      """ì–¼ë§ˆë‚˜ ë³´ê´€í•˜ë‚˜? (ìƒëª…ì£¼ê¸°)"""
      FULL = "full"               # ì „ì²´ ë³´ê´€
      SUMMARY = "summary"         # ìš”ì•½ë§Œ
      METADATA_ONLY = "metadata_only"  # ë©”íƒ€ë§Œ
      ARCHIVED = "archived"       # ì•„ì¹´ì´ë¸Œ

  Document í´ëž˜ìŠ¤

  class Document(IdentifiableTimestamped):
      # ì†ŒìŠ¤ ì •ë³´ (ì–´ë””ì„œ ì™”ë‚˜)
      source_type: SourceType      # NOTION, SLACK, ...
      source_id: str               # ì›ë³¸ ì‹œìŠ¤í…œì˜ ID

      # ë¬¸ì„œ íƒ€ìž… (ë­ëƒ)
      document_type: DocumentType  # POLICY, FAQ, ...

      # ì½˜í…ì¸ 
      raw_content: str             # ì›ë³¸ í…ìŠ¤íŠ¸
      parsed_content: ParsedContent  # êµ¬ì¡°í™”ëœ ë‚´ìš©

      # ë©”íƒ€ë°ì´í„° (í’ë¶€í•œ ì •ë³´)
      metadata: DocumentMetadata

      # ì˜ì‚¬ê²°ì • ì—°ê²°
      decision_mapping_ids: List[str]  # ì–´ë–¤ ì˜ì‚¬ê²°ì •ì— ì˜í–¥?
      overall_relevance_score: float   # ì „ì²´ ê´€ë ¨ì„±

      # ê·¸ëž˜í”„ ì—°ê²°
      entity_ids: List[str]        # ì–¸ê¸‰ëœ ì—”í‹°í‹°ë“¤
      relationship_ids: List[str]  # ê´€ë ¨ ê´€ê³„ë“¤

      # ë²¡í„°í™” ìƒíƒœ
      chunk_ids: List[str]         # ì²­í¬ ëª©ë¡
      is_vectorized: bool          # ë²¡í„°í™” ëë‚˜?

  Chunk í´ëž˜ìŠ¤ (í•µì‹¬!)

  class Chunk(IdentifiableTimestamped, Scorable):
      """ë²¡í„° ê²€ìƒ‰ì˜ ìµœì†Œ ë‹¨ìœ„"""

      document_id: str      # ì†Œì† ë¬¸ì„œ
      content: str          # í…ìŠ¤íŠ¸ ë‚´ìš©
      token_count: int      # í† í° ìˆ˜

      # ìœ„ì¹˜ ì •ë³´
      chunk_index: int      # ë¬¸ì„œ ë‚´ ìˆœì„œ
      start_char: int       # ì‹œìž‘ ìœ„ì¹˜
      end_char: int         # ë ìœ„ì¹˜

      # ì»¨í…ìŠ¤íŠ¸ (ì¤‘ìš”!)
      header_context: str   # "ì†Œê°œ > ë°°ê²½ > ëª©í‘œ"
      section_name: str     # í˜„ìž¬ ì„¹ì…˜ëª…

      # ë²¡í„°
      embedding: List[float]  # [0.1, 0.2, ...] 1536ì°¨ì›
      embedding_model: str    # "text-embedding-3-small"

  íŒ©í† ë¦¬ ë©”ì„œë“œ íŒ¨í„´

  # Notionì—ì„œ Document ìƒì„±
  doc = Document.from_notion({
      "id": "page-123",
      "title": "íœ´ê°€ ì •ì±…",
      "url": "https://notion.so/..."
  })

  # Slackì—ì„œ Document ìƒì„±
  doc = Document.from_slack({
      "ts": "1234567890.123456",
      "channel": "general"
  })

  ---
  3. entity.py - ì§€ì‹ ê·¸ëž˜í”„ ë…¸ë“œ

  ë¬¸ì„œì—ì„œ ì¶”ì¶œí•œ **ì‹¤ì²´(Entity)**ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.

  EntityType - ì—”í‹°í‹° ì¢…ë¥˜

  class EntityType(str, Enum):
      # ì¡°ì§
      PERSON = "person"         # ì‚¬ëžŒ
      TEAM = "team"             # íŒ€
      DEPARTMENT = "department" # ë¶€ì„œ

      # ì—…ë¬´
      PROJECT = "project"       # í”„ë¡œì íŠ¸
      TASK = "task"             # íƒœìŠ¤í¬

      # ë¬¸ì„œ/í”„ë¡œì„¸ìŠ¤
      PROCESS = "process"       # í”„ë¡œì„¸ìŠ¤
      POLICY = "policy"         # ì •ì±…

      # ê¸°ìˆ 
      TOOL = "tool"             # ë„êµ¬
      SYSTEM = "system"         # ì‹œìŠ¤í…œ
      API = "api"               # API

      # ì¶”ìƒ ê°œë…
      CONCEPT = "concept"       # ê°œë…
      TOPIC = "topic"           # í† í”½

  Entity í´ëž˜ìŠ¤

  class Entity(IdentifiableTimestamped, Scorable, Provenanced):
      # ê¸°ë³¸ ì •ë³´
      entity_type: EntityType   # PERSON, PROJECT, ...
      name: str                 # "í™ê¸¸ë™"
      aliases: List[str]        # ["ê¸¸ë™", "Hong"]
      description: str          # ì„¤ëª…

      # ì†ì„± (íƒ€ìž…ë³„ë¡œ ë‹¤ë¦„)
      properties: Dict[str, Any]  # {"email": "...", "department": "..."}

      # ì •ê·œí™” (ê²€ìƒ‰ìš©)
      normalized_name: str      # "í™ê¸¸ë™" â†’ "í™ê¸¸ë™" (ì†Œë¬¸ìží™” ë“±)

      # ê·¸ëž˜í”„ ì—°ê²°
      outgoing_relationship_ids: List[str]  # ì´ ì—”í‹°í‹° â†’ ë‹¤ë¥¸ ì—”í‹°í‹°
      incoming_relationship_ids: List[str]  # ë‹¤ë¥¸ ì—”í‹°í‹° â†’ ì´ ì—”í‹°í‹°

      # ë¬¸ì„œ ì—°ê²°
      mentioned_in_document_ids: List[str]  # ì–¸ê¸‰ëœ ë¬¸ì„œë“¤

      # ì˜ì‚¬ê²°ì • ì˜í–¥ë„
      decision_influence: Dict[str, float]  # {"leave_request": 0.8}

  íŒ©í† ë¦¬ ë©”ì„œë“œ

  # ì‚¬ëžŒ ìƒì„±
  person = Entity.create_person(
      name="í™ê¸¸ë™",
      email="hong@company.com",
      department="ê°œë°œíŒ€"
  )

  # í”„ë¡œì íŠ¸ ìƒì„±
  project = Entity.create_project(
      name="AI Platform",
      status="in_progress",
      owner="í™ê¸¸ë™"
  )

  # ì •ì±… ìƒì„± (ìžë™ ë²¡í„°í™” í”Œëž˜ê·¸)
  policy = Entity.create_policy(
      name="íœ´ê°€ ì •ì±…",
      category="HR"
  )

  EntityRef - ê²½ëŸ‰ ì°¸ì¡°

  # ì „ì²´ Entityë¥¼ ì „ë‹¬í•˜ë©´ ë¬´ê±°ì›€
  # â†’ ì°¸ì¡°ë§Œ í•„ìš”í•  ë•Œ EntityRef ì‚¬ìš©

  ref = entity.to_ref()
  # EntityRef(id="...", entity_type=PERSON, name="í™ê¸¸ë™")

  ---
  4. relationship.py - ì§€ì‹ ê·¸ëž˜í”„ ì—£ì§€

  ì—”í‹°í‹° ê°„ì˜ ê´€ê³„ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.

  RelationType - ê´€ê³„ ì¢…ë¥˜

  class RelationType(str, Enum):
      # ì¡°ì§ ê´€ê³„
      BELONGS_TO = "belongs_to"    # ì†Œì†: person â†’ team
      MANAGES = "manages"          # ê´€ë¦¬: person â†’ team
      REPORTS_TO = "reports_to"    # ë³´ê³ : person â†’ person

      # í”„ë¡œì íŠ¸ ê´€ê³„
      WORKS_ON = "works_on"        # ì°¸ì—¬: person â†’ project
      OWNS = "owns"                # ì†Œìœ : person â†’ project

      # ë¬¸ì„œ ê´€ê³„
      REFERENCES = "references"    # ì°¸ì¡°: doc â†’ doc
      SUPERSEDES = "supersedes"    # ëŒ€ì²´: new_doc â†’ old_doc
      MENTIONS = "mentions"        # ì–¸ê¸‰: doc â†’ entity

      # ì˜ì¡´ì„±
      DEPENDS_ON = "depends_on"    # ì˜ì¡´: project â†’ project
      PART_OF = "part_of"          # êµ¬ì„±: task â†’ project

  Relationship í´ëž˜ìŠ¤

  class Relationship(IdentifiableTimestamped, Scorable, Provenanced):
      # ê´€ê³„ ì •ì˜
      relation_type: RelationType  # BELONGS_TO, MANAGES, ...
      source_entity_id: str        # ì¶œë°œ ì—”í‹°í‹°
      target_entity_id: str        # ë„ì°© ì—”í‹°í‹°

      # ì†ì„±
      properties: Dict[str, Any]   # {"role": "íŒ€ìž¥"}
      weight: float                # ê´€ê³„ ê°•ë„ (0~1)

      # ë°©í–¥ì„±
      is_bidirectional: bool       # ì–‘ë°©í–¥ ì—¬ë¶€

      # ì‹œê°„ì  ìœ íš¨ì„± (ì¤‘ìš”!)
      valid_from: datetime         # ì–¸ì œë¶€í„°
      valid_until: datetime        # ì–¸ì œê¹Œì§€

  ì‹œê°„ì  ìœ íš¨ì„±

  # "í™ê¸¸ë™ì´ AíŒ€ ì†Œì†" ê´€ê³„ëŠ” 2024ë…„ê¹Œì§€ë§Œ ìœ íš¨
  rel = Relationship.create_belongs_to(
      member_id=hong.id,
      group_id=team_a.id
  )
  rel.set_validity(
      from_date=datetime(2023, 1, 1),
      until_date=datetime(2024, 12, 31)
  )

  # í˜„ìž¬ ìœ íš¨í•œì§€ í™•ì¸
  rel.is_active()  # True/False
  rel.is_expired()  # True/False

  ---
  5. decision.py - ì˜ì‚¬ê²°ì • ì—°ê²°

  "ì´ ë¬¸ì„œê°€ ì–´ë–¤ ì˜ì‚¬ê²°ì •ì— ë„ì›€ì´ ë˜ë‚˜?"ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.

  DecisionType - ì˜ì‚¬ê²°ì • ìœ í˜•

  class DecisionType(IdentifiableTimestamped):
      name: str                    # "íœ´ê°€ ì‹ ì²­"
      description: str             # ì„¤ëª…
      category: str                # "hr", "finance", ...

      # íŠ¹ì„±
      frequency: DecisionFrequency  # DAILY, WEEKLY, ...
      impact_level: ImpactLevel     # LOW, MEDIUM, HIGH, CRITICAL

      # ê´€ë ¨ ë°ì´í„° íƒ€ìž…
      relevant_entity_types: List[EntityType]
      relevant_document_types: List[DocumentType]

      # í‚¤ì›Œë“œ (ê²€ìƒ‰ ë§¤ì¹­ìš©)
      keywords: List[str]  # ["íœ´ê°€", "ì—°ì°¨", "leave"]

  ê¸°ë³¸ ì œê³µ ì˜ì‚¬ê²°ì • íƒ€ìž…

  DEFAULT_DECISION_TYPES = [
      DecisionType(
          id="leave_request",
          name="íœ´ê°€ ì‹ ì²­",
          category="hr",
          frequency=DecisionFrequency.DAILY,
          impact_level=ImpactLevel.LOW,
          keywords=["íœ´ê°€", "ì—°ì°¨", "ë°˜ì°¨", "leave", "vacation"]
      ),
      DecisionType(
          id="onboarding",
          name="ì‹ ê·œ ìž…ì‚¬ìž ì˜¨ë³´ë”©",
          ...
      ),
      DecisionType(
          id="expense_approval",
          name="ë¹„ìš© ìŠ¹ì¸",
          ...
      ),
      DecisionType(
          id="project_planning",
          name="í”„ë¡œì íŠ¸ ê³„íš",
          ...
      ),
  ]

  DecisionMapping - ë¬¸ì„œâ†”ì˜ì‚¬ê²°ì • ì—°ê²°

  class DecisionMapping(IdentifiableTimestamped, Scorable):
      # ë§¤í•‘ ëŒ€ìƒ
      decision_type_id: str    # "leave_request"
      target_type: str         # "document" | "entity"
      target_id: str           # ë¬¸ì„œ/ì—”í‹°í‹° ID

      # ì˜í–¥ë„
      influence_score: float   # 0~1 (ì–¼ë§ˆë‚˜ ê´€ë ¨ìžˆë‚˜)
      influence_type: InfluenceType  # DIRECT, INDIRECT, CONTEXTUAL

      # í”¼ë“œë°± í•™ìŠµ (ì¤‘ìš”!)
      query_hit_count: int     # ê²€ìƒ‰ëœ íšŸìˆ˜
      feedback_positive: int   # ðŸ‘ íšŸìˆ˜
      feedback_negative: int   # ðŸ‘Ž íšŸìˆ˜

  í”¼ë“œë°± ê¸°ë°˜ í•™ìŠµ

  # ì‚¬ìš©ìžê°€ "íœ´ê°€ ì •ì±…" ê²€ìƒ‰ í›„ ë¬¸ì„œ Aë¥¼ í´ë¦­
  mapping_a.record_hit()

  # ì‚¬ìš©ìžê°€ "ë„ì›€ì´ ëì–´ìš”" ðŸ‘
  mapping_a.record_feedback(positive=True)

  # ì˜í–¥ë„ ì ìˆ˜ê°€ ìžë™ìœ¼ë¡œ ì¡°ì •ë¨
  # influence_score = ê¸°ì¡´ì ìˆ˜ * 0.7 + í”¼ë“œë°±ì ìˆ˜ * 0.3

  ---
  ì „ì²´ ë°ì´í„° íë¦„ ì˜ˆì‹œ

  1. Notionì—ì„œ "íœ´ê°€ ì •ì±…" ë¬¸ì„œ ìˆ˜ì§‘
     â”‚
     â–¼
  2. Document ìƒì„±
     â”œâ”€ source_type: NOTION
     â”œâ”€ document_type: POLICY
     â””â”€ raw_content: "ì—°ì°¨ëŠ” 15ì¼..."
     â”‚
     â–¼
  3. íŒŒì‹± â†’ ParsedContent
     â””â”€ sections: [{name: "ì—°ì°¨", content: "..."}, ...]
     â”‚
     â–¼
  4. ì²­í‚¹ â†’ Chunk[]
     â”œâ”€ Chunk(content="ì—°ì°¨ëŠ” 15ì¼...", header_context="íœ´ê°€ > ì—°ì°¨")
     â””â”€ Chunk(content="ë³‘ê°€ëŠ”...", header_context="íœ´ê°€ > ë³‘ê°€")
     â”‚
     â–¼
  5. ì—”í‹°í‹° ì¶”ì¶œ â†’ Entity[]
     â”œâ”€ Entity(type=POLICY, name="íœ´ê°€ ì •ì±…")
     â””â”€ Entity(type=PERSON, name="ì¸ì‚¬íŒ€ìž¥")
     â”‚
     â–¼
  6. ê´€ê³„ ì¶”ì¶œ â†’ Relationship[]
     â””â”€ Relationship(íœ´ê°€ì •ì±… --APPLIES_TO--> ì „ì‚¬ì›)
     â”‚
     â–¼
  7. ì˜ì‚¬ê²°ì • ë§¤í•‘ â†’ DecisionMapping[]
     â””â”€ DecisionMapping(
          decision_type="leave_request",
          target_id=document.id,
          influence_score=0.95,
          influence_type=DIRECT
        )

  ---
  ì‹¤ìŠµ ì½”ë“œ

  from agentic_ai_core.schema import (
      Document, Chunk, DocumentType, SourceType,
      Entity, EntityType,
      Relationship, RelationType,
      DecisionMapping, InfluenceType,
      DEFAULT_DECISION_TYPES,
  )

  # 1. ë¬¸ì„œ ìƒì„±
  doc = Document(
      source_type=SourceType.NOTION,
      document_type=DocumentType.POLICY,
      raw_content="íœ´ê°€ ì •ì±…: ì—°ì°¨ 15ì¼..."
  )
  doc.metadata.title = "íœ´ê°€ ì •ì±…"

  # 2. ì—”í‹°í‹° ìƒì„±
  policy_entity = Entity.create_policy(name="íœ´ê°€ ì •ì±…", category="HR")
  hr_manager = Entity.create_person(name="ê¹€ì¸ì‚¬", department="ì¸ì‚¬íŒ€")

  # 3. ê´€ê³„ ìƒì„±
  rel = Relationship(
      relation_type=RelationType.MANAGES,
      source_entity_id=hr_manager.id,
      target_entity_id=policy_entity.id
  )

  # 4. ì˜ì‚¬ê²°ì • ë§¤í•‘
  mapping = DecisionMapping.create_for_document(
      document_id=doc.id,
      decision_type_id="leave_request",
      influence_score=0.9,
      influence_type=InfluenceType.DIRECT,
      reasoning="íœ´ê°€ ì •ì±… ë¬¸ì„œì´ë¯€ë¡œ ì§ì ‘ì  ì˜í–¥"
  )

  print(f"Document: {doc.title}")
  print(f"Entity: {policy_entity.name} ({policy_entity.entity_type})")
  print(f"Relation: {hr_manager.name} --{rel.relation_type}--> {policy_entity.name}")
  print(f"Decision: {mapping.influence_score} influence on leave_request")

  ---